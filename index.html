<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Olympic Winter Games â€“ Women FS Prediction</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

<style>
body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, #0f172a, #111827);
  color: #f3f4f6;
  margin: 0;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 50px 20px 120px;
}

.hero {
  text-align: center;
  margin-bottom: 40px;
}

.hero h1 {
  font-size: 42px;
  font-weight: 800;
  margin-bottom: 8px;
}

.hero p {
  color: #9ca3af;
  font-size: 18px;
}

.nav {
  margin-top: 20px;
  display: flex;
  justify-content: center;
  gap: 30px;
}

.nav-link {
  text-decoration: none;
  color: #f3f4f6;
  font-weight: 600;
  font-size: 17px;
  border-bottom: 2px solid transparent;
  padding-bottom: 4px;
}

.nav-link:hover {
  border-bottom: 2px solid #ec4899;
}

.card {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(14px);
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.4);
}

input {
  width: 100%;
  padding: 16px;
  border-radius: 12px;
  border: none;
  font-size: 16px;
  margin-bottom: 18px;
}

.search-wrapper {
  position: relative;
}

.clear-btn {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #9ca3af;
  font-size: 16px;
  cursor: pointer;
}

.list-wrapper {
  max-height: 500px;
  overflow-y: auto;
}

ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

li {
  display: flex;
  align-items: center;
  padding: 18px;
  margin: 10px 0;
  border-radius: 14px;
  background: rgba(255,255,255,0.07);
  transition: 0.25s;
}

li:hover {
  background: rgba(255,255,255,0.12);
}

.rank-number {
  width: 45px;
  font-weight: 800;
  font-size: 20px;
}

.flag {
  margin-right: 10px;
  font-size: 22px;
}

.skater-name {
  flex-grow: 1;
  font-weight: 600;
  font-size: 17px;
}

button {
  width: 100%;
  padding: 18px;
  margin-top: 30px;
  border-radius: 14px;
  border: none;
  font-size: 18px;
  font-weight: 700;
  background: linear-gradient(90deg, #ec4899, #8b5cf6);
  color: white;
  cursor: pointer;
}


/* Podium Styling */
.podium-1 {
  background: linear-gradient(90deg, #facc15, #fde047);
  color: black;
}

.podium-2 {
  background: linear-gradient(90deg, #e5e7eb, #d1d5db);
  color: black;
}

.podium-3 {
  background: linear-gradient(90deg, #d97706, #f59e0b);
  color: black;
}

/* -------- MOBILE -------- */
@media (max-width: 768px) {

  .hero h1 {
    font-size: 28px;
  }

  .hero p {
    font-size: 15px;
  }

  .skater-name {
    font-size: 20px;  /* BIG mobile names */
  }

  li {
    padding: 20px;
  }

}
</style>
</head>

<body>

<div class="container">

  <div class="hero">
    <h1>Olympic Winter Games</h1>
    <p>Womenâ€™s Podium Predictions â›¸ï¸</p>

    <div class="nav">
      <a href="index.html" class="nav-link">Predict</a>
      <a href="leaderboard.html" class="nav-link">Leaderboard</a>
    </div>
  </div>

  <div class="card">

    <input id="username" placeholder="Enter your name" />

    <div class="list-wrapper">
     <ul id="skaterList">

<li><span class="rank-number"></span><span class="flag">ğŸ‡¯ğŸ‡µ</span><span class="skater-name">Kaori Sakamoto</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¯ğŸ‡µ</span><span class="skater-name">Ami Nakai</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡ºğŸ‡¸</span><span class="skater-name">Alysa Liu</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡°ğŸ‡·</span><span class="skater-name">Haein Lee</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡§ğŸ‡ª</span><span class="skater-name">Loena Hendrickx</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¯ğŸ‡µ</span><span class="skater-name">Mone Chiba</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡ªğŸ‡ª</span><span class="skater-name">Niina Petrokina</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡ºğŸ‡¸</span><span class="skater-name">Isabeau Levito</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡ºğŸ‡¸</span><span class="skater-name">Amber Glenn</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡°ğŸ‡·</span><span class="skater-name">Jia Shin</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¬ğŸ‡ª</span><span class="skater-name">Anastasiia Gubanova</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ³ï¸</span><span class="skater-name">Adeliia Petrosian</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡µğŸ‡±</span><span class="skater-name">Ekaterina Kurakova</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡®ğŸ‡¹</span><span class="skater-name">Lara Naki Gutmann</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡°ğŸ‡¿</span><span class="skater-name">Sofia Samodelkina</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡§ğŸ‡ª</span><span class="skater-name">Nina Pinzarrone</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¦ğŸ‡¹</span><span class="skater-name">Olga Mikutina</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¨ğŸ‡­</span><span class="skater-name">Kimmy Repond</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¨ğŸ‡­</span><span class="skater-name">Livia Kaiser</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ³ï¸</span><span class="skater-name">Viktoriia Safonova</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¨ğŸ‡¦</span><span class="skater-name">Madeline Schizas</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡«ğŸ‡·</span><span class="skater-name">Lorine Schild</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡«ğŸ‡®</span><span class="skater-name">Iida Karhunen</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡®ğŸ‡±</span><span class="skater-name">Mariia Seniuk</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¨ğŸ‡³</span><span class="skater-name">Ruiyang Zhang</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡§ğŸ‡¬</span><span class="skater-name">Alexandra Feigin</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡·ğŸ‡´</span><span class="skater-name">Julia Sauter</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡¬ğŸ‡§</span><span class="skater-name">Kristen Spours</span></li>
<li><span class="rank-number"></span><span class="flag">ğŸ‡±ğŸ‡¹</span><span class="skater-name">Meda Variakojyte</span></li>

</ul>

    </div>

  </div>
</div>

<button id="submitBtn" onclick="submitRanking()">Submit Prediction</button>

<script>

function updateRanks() {
  const items = document.querySelectorAll("#skaterList li");

  items.forEach((item, index) => {
    item.querySelector(".rank-number").innerText = index + 1;

    item.classList.remove("podium-1","podium-2","podium-3");

    if (index === 0) item.classList.add("podium-1");
    if (index === 1) item.classList.add("podium-2");
    if (index === 2) item.classList.add("podium-3");
  });
}

new Sortable(document.getElementById('skaterList'), {
  animation: 200,
  delay: 100,
  delayOnTouchOnly: true,
  touchStartThreshold: 5,
  onEnd: updateRanks
});

updateRanks();


/* -------- SUBMIT -------- */

async function submitRanking() {

  const username = document.getElementById("username").value;
  if (!username) {
    alert("Please enter your name.");
    return;
  }

  const items = document.querySelectorAll("#skaterList li");
  let ranking = "";

  items.forEach((item, index) => {
    ranking += (index + 1) + ". " + item.querySelector(".skater-name").innerText + "\n";
  });

  const response = await fetch("https://api.airtable.com/v0/appqinDjW4HCVjwQY/tblC0xM9xKI27YkXX", { method: "POST", headers: { "Authorization": "Bearer patndpbY9QOFEzASh.2e1e8e15b2ad636ccda008f09a20abc4419a639f2e36beea1497ccfb852f9afe", "Content-Type": "application/json" }, body: JSON.stringify({ fields: { "User Name": username, "Ranking Order": ranking } }) });
    body: JSON.stringify({
      fields: {
        "User Name": username,
        "Ranking Order": ranking
      }
    })
};

  if (response.ok) {
    window.location.href = "leaderboard.html";
  } else {
    alert("Submission failed.");
  }

</script>

</body>
</html>
